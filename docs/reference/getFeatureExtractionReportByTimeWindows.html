<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generate Feature Extraction Reports by Time Windows — getFeatureExtractionReportByTimeWindows • Kala</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generate Feature Extraction Reports by Time Windows — getFeatureExtractionReportByTimeWindows"><meta property="og:description" content="This function generates detailed reports from feature extraction data, analyzing covariates
across different time windows. It processes both binary and continuous covariates, and can
handle time-varying and non-time-varying features. The function supports filtering by
covariate IDs, formatting according to table specifications, and pivoting results for
easier interpretation."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Kala</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/OHDSI/Kala/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate Feature Extraction Reports by Time Windows</h1>
    <small class="dont-index">Source: <a href="https://github.com/OHDSI/Kala/blob/HEAD/R/GetFeatureExtractionReportByTimeWindows.R" class="external-link"><code>R/GetFeatureExtractionReportByTimeWindows.R</code></a></small>
    <div class="hidden name"><code>getFeatureExtractionReportByTimeWindows.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function generates detailed reports from feature extraction data, analyzing covariates
across different time windows. It processes both binary and continuous covariates, and can
handle time-varying and non-time-varying features. The function supports filtering by
covariate IDs, formatting according to table specifications, and pivoting results for
easier interpretation.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getFeatureExtractionReportByTimeWindows</span><span class="op">(</span></span>
<span>  <span class="va">covariateData</span>,</span>
<span>  startDays <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  endDays <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  includeNonTimeVarying <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  minAverageValue <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  includedCovariateIds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  excludedCovariateIds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  table1Specifications <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">cohortId</span>,</span>
<span>  <span class="va">cohortDefinitionSet</span>,</span>
<span>  databaseId <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cohortName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reportName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  format <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  distributionStatistic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"averageValue"</span>, <span class="st">"standardDeviation"</span>, <span class="st">"medianValue"</span>,</span>
<span>    <span class="st">"p25Value"</span>, <span class="st">"p75Value"</span><span class="op">)</span>,</span>
<span>  pivot <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-covariatedata">covariateData<a class="anchor" aria-label="anchor" href="#arg-covariatedata"></a></dt>
<dd><p>A covariateData object containing feature extraction results with components:</p><ul><li><p>analysisRef (analysisId, analysisName, domainId, isBinary, missingMeansZero)</p></li>
<li><p>covariateRef (covariateId, covariateName, analysisId, conceptId, valueAsConceptId, collisions)</p></li>
<li><p>covariates (cohortDefinitionId, covariateId, timeId, sumValue, averageValue)</p></li>
<li><p>covariatesContinuous (cohortDefinitionId, covariateId, countValue, minValue, maxValue,
        averageValue, standardDeviation, medianValue, p10Value, p25Value, p75Value, p90Value, timeId)</p></li>
<li><p>timeRef (timeId, startDay, endDay)</p></li>
</ul></dd>


<dt id="arg-startdays">startDays<a class="anchor" aria-label="anchor" href="#arg-startdays"></a></dt>
<dd><p>Vector of start days for time windows to include in the report. If NULL, all available
time windows from covariateData$timeRef will be used.</p></dd>


<dt id="arg-enddays">endDays<a class="anchor" aria-label="anchor" href="#arg-enddays"></a></dt>
<dd><p>Vector of end days for time windows to include in the report. If NULL, all available
time windows from covariateData$timeRef will be used.</p></dd>


<dt id="arg-includenontimevarying">includeNonTimeVarying<a class="anchor" aria-label="anchor" href="#arg-includenontimevarying"></a></dt>
<dd><p>Boolean indicating whether to include non-time-varying covariates.
Default is FALSE.</p></dd>


<dt id="arg-minaveragevalue">minAverageValue<a class="anchor" aria-label="anchor" href="#arg-minaveragevalue"></a></dt>
<dd><p>Minimum average value threshold for including covariates. Default is 0.01.</p></dd>


<dt id="arg-includedcovariateids">includedCovariateIds<a class="anchor" aria-label="anchor" href="#arg-includedcovariateids"></a></dt>
<dd><p>Vector of covariate IDs to include. If NULL, all covariates will be included
(subject to other filters).</p></dd>


<dt id="arg-excludedcovariateids">excludedCovariateIds<a class="anchor" aria-label="anchor" href="#arg-excludedcovariateids"></a></dt>
<dd><p>Vector of covariate IDs to exclude. If NULL, no covariates will be explicitly
excluded.</p></dd>


<dt id="arg-table-specifications">table1Specifications<a class="anchor" aria-label="anchor" href="#arg-table-specifications"></a></dt>
<dd><p>Optional data frame with specifications for formatting as a Table 1, containing
columns for label and covariateIds.</p></dd>


<dt id="arg-cohortid">cohortId<a class="anchor" aria-label="anchor" href="#arg-cohortid"></a></dt>
<dd><p>The cohort definition ID to generate the report for.</p></dd>


<dt id="arg-cohortdefinitionset">cohortDefinitionSet<a class="anchor" aria-label="anchor" href="#arg-cohortdefinitionset"></a></dt>
<dd><p>A data frame containing cohort definitions.</p></dd>


<dt id="arg-databaseid">databaseId<a class="anchor" aria-label="anchor" href="#arg-databaseid"></a></dt>
<dd><p>Optional database ID to include in the report header.</p></dd>


<dt id="arg-cohortname">cohortName<a class="anchor" aria-label="anchor" href="#arg-cohortname"></a></dt>
<dd><p>Optional cohort name to include in the report header.</p></dd>


<dt id="arg-reportname">reportName<a class="anchor" aria-label="anchor" href="#arg-reportname"></a></dt>
<dd><p>Optional report name to include in the report header.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>Boolean indicating whether to format the values in the report (e.g., as percentages).
Default is TRUE.</p></dd>


<dt id="arg-distributionstatistic">distributionStatistic<a class="anchor" aria-label="anchor" href="#arg-distributionstatistic"></a></dt>
<dd><p>Character vector of statistics to include for continuous variables.
Default includes "averageValue", "standardDeviation", "medianValue", "p25Value", "p75Value".</p></dd>


<dt id="arg-pivot">pivot<a class="anchor" aria-label="anchor" href="#arg-pivot"></a></dt>
<dd><p>Boolean indicating whether to pivot the report to have time periods as columns.
Default is TRUE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list with two components:</p><ul><li><p>raw: The raw data frame with all covariate information before formatting</p></li>
<li><p>formatted: The formatted report, either in long format or pivoted (if pivot = TRUE)</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>The function processes both binary and continuous covariates from the provided covariateData object.
For binary covariates, it reports counts and percentages. For continuous covariates, it reports
the specified distribution statistics. The function can filter covariates based on minimum average
value and specific inclusion/exclusion lists.</p>
<p>Time windows are specified using startDays and endDays parameters. If these are NULL, all time
windows in the covariateData will be used. Non-time-varying covariates can be included by setting
includeNonTimeVarying to TRUE.</p>
<p>The table1Specifications parameter allows for organizing covariates into logical groups in the
report, similar to a Table 1 in clinical papers.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Load covariate data</span></span></span>
<span class="r-in"><span><span class="va">covariateData</span> <span class="op">&lt;-</span> <span class="fu">FeatureExtraction</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/FeatureExtraction/man/loadCovariateData.html" class="external-link">loadCovariateData</a></span><span class="op">(</span><span class="st">"path/to/covariateData"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate report for specific time windows</span></span></span>
<span class="r-in"><span><span class="va">report</span> <span class="op">&lt;-</span> <span class="fu">getFeatureExtractionReportByTimeWindows</span><span class="op">(</span></span></span>
<span class="r-in"><span>  covariateData <span class="op">=</span> <span class="va">covariateData</span>,</span></span>
<span class="r-in"><span>  startDays <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">365</span>, <span class="op">-</span><span class="fl">30</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  endDays <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  includeNonTimeVarying <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  cohortId <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View the formatted report</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">report</span><span class="op">$</span><span class="va">formatted</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gowtham Rao.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

