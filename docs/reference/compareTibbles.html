<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compare Two Tibbles for Differences — compareTibbles • Kala</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compare Two Tibbles for Differences — compareTibbles"><meta property="og:description" content="This function compares two tibbles (or data frames) and returns a list describing the differences
between them. It first checks whether the two tibbles have identical columns (ignoring order) and
reports any additional columns found in either tibble. If the columns are identical, it sorts the rows
of both tibbles and performs a row-wise comparison. The output includes whether the tibbles are identical,
the difference in row counts, and the specific rows that are present in one tibble but not in the other."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Kala</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/OHDSI/Kala/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compare Two Tibbles for Differences</h1>
    <small class="dont-index">Source: <a href="https://github.com/OHDSI/Kala/blob/HEAD/R/CompareTibbles.R" class="external-link"><code>R/CompareTibbles.R</code></a></small>
    <div class="hidden name"><code>compareTibbles.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function compares two tibbles (or data frames) and returns a list describing the differences
between them. It first checks whether the two tibbles have identical columns (ignoring order) and
reports any additional columns found in either tibble. If the columns are identical, it sorts the rows
of both tibbles and performs a row-wise comparison. The output includes whether the tibbles are identical,
the difference in row counts, and the specific rows that are present in one tibble but not in the other.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compareTibbles</span><span class="op">(</span><span class="va">tibble1</span>, <span class="va">tibble2</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-tibble-">tibble1<a class="anchor" aria-label="anchor" href="#arg-tibble-"></a></dt>
<dd><p>A tibble or data frame to be compared.</p></dd>


<dt id="arg-tibble-">tibble2<a class="anchor" aria-label="anchor" href="#arg-tibble-"></a></dt>
<dd><p>A tibble or data frame to be compared.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list with the following elements:</p>
<dl><dt>additionalColumnsInFirst</dt>
<dd><p>A character vector of column names present in <code>tibble1</code> but not in <code>tibble2</code>.</p></dd>

  <dt>additionalColumnsInSecond</dt>
<dd><p>A character vector of column names present in <code>tibble2</code> but not in <code>tibble1</code>.</p></dd>

  <dt>identical</dt>
<dd><p>A logical value indicating whether the two tibbles are identical after aligning columns and sorting rows.</p></dd>

  <dt>additionalRowsInFirst</dt>
<dd><p>(If not identical) The difference in the number of rows in <code>tibble1</code> compared to <code>tibble2</code>.</p></dd>

  <dt>additionalRowsInSecond</dt>
<dd><p>(If not identical) The difference in the number of rows in <code>tibble2</code> compared to <code>tibble1</code>.</p></dd>

  <dt>presentInFirstNotSecond</dt>
<dd><p>(If not identical) The rows present in <code>tibble1</code> but not in <code>tibble2</code>.</p></dd>

  <dt>presentInSecondNotFirst</dt>
<dd><p>(If not identical) The rows present in <code>tibble2</code> but not in <code>tibble1</code>.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The function works as follows:</p><ol><li><p>It extracts and sorts the column names from both tibbles.</p></li>
<li><p>It identifies additional columns in either tibble and stores them in the result.</p></li>
<li><p>If the sets of columns differ, it returns immediately after marking the tibbles as not identical.</p></li>
<li><p>If the columns are identical, it sorts the rows of both tibbles using <code>do.call(order, tibble)</code>,
        then compares the sorted tibbles row-wise.</p></li>
<li><p>If the tibbles are not identical, it calculates the differences in row counts and identifies the rows
        that are present in one tibble but not in the other.</p></li>
</ol></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create example tibbles with identical columns in different orders</span></span></span>
<span class="r-in"><span><span class="va">tib1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tib2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compare tibbles (should be identical)</span></span></span>
<span class="r-in"><span><span class="fu">compareTibbles</span><span class="op">(</span><span class="va">tib1</span>, <span class="va">tib2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Modify tib2 by adding an extra row</span></span></span>
<span class="r-in"><span><span class="va">tib2</span> <span class="op">&lt;-</span> <span class="va">tib2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/add_row.html" class="external-link">add_row</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">4</span>, y <span class="op">=</span> <span class="st">"d"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compare again (differences in rows will be reported)</span></span></span>
<span class="r-in"><span><span class="fu">compareTibbles</span><span class="op">(</span><span class="va">tib1</span>, <span class="va">tib2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gowtham Rao.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

