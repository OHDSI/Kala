<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute Standardized Difference Between Two Covariate Data Sets — getFeatureExtractionStandardizedDifference • Kala</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Standardized Difference Between Two Covariate Data Sets — getFeatureExtractionStandardizedDifference"><meta property="og:description" content="This function computes the standardized difference between covariate data for two cohorts by loading
covariate data from provided file paths and comparing them over defined time windows. The function
iterates over each time window to calculate the standardized difference using
FeatureExtraction::computeStandardizedDifference. Optionally, it also computes the standardized
difference for non-time-varying covariates when includeNonTimeVarying is set to TRUE."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Kala</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/OHDSI/Kala/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute Standardized Difference Between Two Covariate Data Sets</h1>
    <small class="dont-index">Source: <a href="https://github.com/OHDSI/Kala/blob/HEAD/R/GetFeatureExtractionStandardizedDifference.R" class="external-link"><code>R/GetFeatureExtractionStandardizedDifference.R</code></a></small>
    <div class="hidden name"><code>getFeatureExtractionStandardizedDifference.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function computes the standardized difference between covariate data for two cohorts by loading
covariate data from provided file paths and comparing them over defined time windows. The function
iterates over each time window to calculate the standardized difference using
<code><a href="https://rdrr.io/pkg/FeatureExtraction/man/computeStandardizedDifference.html" class="external-link">FeatureExtraction::computeStandardizedDifference</a></code>. Optionally, it also computes the standardized
difference for non-time-varying covariates when <code>includeNonTimeVarying</code> is set to <code>TRUE</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getFeatureExtractionStandardizedDifference</span><span class="op">(</span></span>
<span>  covariateData1Path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  covariateData2Path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">cohortId1</span>,</span>
<span>  <span class="va">cohortId2</span>,</span>
<span>  includeNonTimeVarying <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  timeRef <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-covariatedata-path">covariateData1Path<a class="anchor" aria-label="anchor" href="#arg-covariatedata-path"></a></dt>
<dd><p>A character string specifying the file path to the first covariate data set.</p></dd>


<dt id="arg-covariatedata-path">covariateData2Path<a class="anchor" aria-label="anchor" href="#arg-covariatedata-path"></a></dt>
<dd><p>A character string specifying the file path to the second covariate data set.</p></dd>


<dt id="arg-cohortid-">cohortId1<a class="anchor" aria-label="anchor" href="#arg-cohortid-"></a></dt>
<dd><p>A numeric or character identifier for the first cohort (used to filter covariate data).</p></dd>


<dt id="arg-cohortid-">cohortId2<a class="anchor" aria-label="anchor" href="#arg-cohortid-"></a></dt>
<dd><p>A numeric or character identifier for the second cohort (used to filter covariate data).</p></dd>


<dt id="arg-includenontimevarying">includeNonTimeVarying<a class="anchor" aria-label="anchor" href="#arg-includenontimevarying"></a></dt>
<dd><p>A logical value indicating whether to include non-time-varying covariates in the calculation.
Defaults to <code>TRUE</code>.</p></dd>


<dt id="arg-timeref">timeRef<a class="anchor" aria-label="anchor" href="#arg-timeref"></a></dt>
<dd><p>An optional data frame that defines the time windows, containing at least the columns
<code>startDay</code> and <code>endDay</code>. If <code>NULL</code>, the time reference will be derived from the covariate data.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A tibble containing the computed standardized differences. For each time window, the output includes
  information such as <code>startDay</code>, <code>endDay</code>, <code>covariateId</code>, <code>covariateName</code>, and the calculated
  standardized difference. If non-time-varying covariates are included, their standardized difference is appended
  to the result.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The function performs the following steps:</p><ol><li><p>It validates that at least one of <code>covariateData1Path</code> or <code>covariateData2Path</code> is provided.</p></li>
<li><p>It loads the covariate data for both cohorts using <code><a href="https://rdrr.io/pkg/FeatureExtraction/man/loadCovariateData.html" class="external-link">FeatureExtraction::loadCovariateData</a></code>.</p></li>
<li><p>The time reference (<code>timeRef</code>) is extracted from the loaded covariate data and compared using
        <code>compareTibbles</code>. If the two time references are not identical, an inner join on <code>timeId</code>,
        <code>startDay</code>, and <code>endDay</code> is performed to derive common time windows.</p></li>
<li><p>If a custom <code>timeRef</code> is provided, it is validated and joined with the derived time reference.</p></li>
<li><p>For each time window, the function reloads and filters the covariate data by the specific <code>timeId</code>
        and <code>cohortDefinitionId</code>, then computes the standardized difference for that window.</p></li>
<li><p>If <code>includeNonTimeVarying</code> is <code>TRUE</code>, the function additionally computes the standardized difference
        for non-time-varying covariates (where <code>timeId</code> is <code>NA</code>) and appends these results.</p></li>
</ol></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Compute standardized differences between two covariate data sets for cohorts 1 and 2</span></span></span>
<span class="r-in"><span><span class="va">stdDiff</span> <span class="op">&lt;-</span> <span class="fu">getFeatureExtractionStandardizedDifference</span><span class="op">(</span></span></span>
<span class="r-in"><span>  covariateData1Path <span class="op">=</span> <span class="st">"path/to/covariateData1.rds"</span>,</span></span>
<span class="r-in"><span>  covariateData2Path <span class="op">=</span> <span class="st">"path/to/covariateData2.rds"</span>,</span></span>
<span class="r-in"><span>  cohortId1 <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  cohortId2 <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  includeNonTimeVarying <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">stdDiff</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gowtham Rao.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

