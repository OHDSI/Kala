% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/GetFeatureExtractionStandardizedDifference.R
\name{getFeatureExtractionStandardizedDifference}
\alias{getFeatureExtractionStandardizedDifference}
\title{Compute Standardized Difference Between Two Covariate Data Sets}
\usage{
getFeatureExtractionStandardizedDifference(
  covariateData1Path = NULL,
  covariateData2Path = NULL,
  cohortId1,
  cohortId2,
  includeNonTimeVarying = TRUE,
  timeRef = NULL
)
}
\arguments{
\item{covariateData1Path}{A character string specifying the file path to the first covariate data set.}

\item{covariateData2Path}{A character string specifying the file path to the second covariate data set.}

\item{cohortId1}{A numeric or character identifier for the first cohort (used to filter covariate data).}

\item{cohortId2}{A numeric or character identifier for the second cohort (used to filter covariate data).}

\item{includeNonTimeVarying}{A logical value indicating whether to include non-time-varying covariates in the calculation.
Defaults to \code{TRUE}.}

\item{timeRef}{An optional data frame that defines the time windows, containing at least the columns
\code{startDay} and \code{endDay}. If \code{NULL}, the time reference will be derived from the covariate data.}
}
\value{
A tibble containing the computed standardized differences. For each time window, the output includes
  information such as \code{startDay}, \code{endDay}, \code{covariateId}, \code{covariateName}, and the calculated
  standardized difference. If non-time-varying covariates are included, their standardized difference is appended
  to the result.
}
\description{
This function computes the standardized difference between covariate data for two cohorts by loading
covariate data from provided file paths and comparing them over defined time windows. The function
iterates over each time window to calculate the standardized difference using
\code{FeatureExtraction::computeStandardizedDifference}. Optionally, it also computes the standardized
difference for non-time-varying covariates when \code{includeNonTimeVarying} is set to \code{TRUE}.
}
\details{
The function performs the following steps:
\enumerate{
  \item It validates that at least one of \code{covariateData1Path} or \code{covariateData2Path} is provided.
  \item It loads the covariate data for both cohorts using \code{FeatureExtraction::loadCovariateData}.
  \item The time reference (\code{timeRef}) is extracted from the loaded covariate data and compared using
        \code{compareTibbles}. If the two time references are not identical, an inner join on \code{timeId},
        \code{startDay}, and \code{endDay} is performed to derive common time windows.
  \item If a custom \code{timeRef} is provided, it is validated and joined with the derived time reference.
  \item For each time window, the function reloads and filters the covariate data by the specific \code{timeId}
        and \code{cohortDefinitionId}, then computes the standardized difference for that window.
  \item If \code{includeNonTimeVarying} is \code{TRUE}, the function additionally computes the standardized difference
        for non-time-varying covariates (where \code{timeId} is \code{NA}) and appends these results.
}
}
\examples{
\dontrun{
# Compute standardized differences between two covariate data sets for cohorts 1 and 2
stdDiff <- getFeatureExtractionStandardizedDifference(
  covariateData1Path = "path/to/covariateData1.rds",
  covariateData2Path = "path/to/covariateData2.rds",
  cohortId1 = 1,
  cohortId2 = 2,
  includeNonTimeVarying = TRUE
)
print(stdDiff)
}

}
